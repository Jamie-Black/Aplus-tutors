<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Aplus Tutors | Blog</title>
  <link rel="stylesheet" href="blog.css">
  <link rel="stylesheet" href="style.css">

</head>

<body>
    
      <!-- Navbar -->
  <header class="navbar">
    <div class="logo">
      <img src="./logo Aplus tutors.JPG" alt="Aplus Tutors Logo">
    </div>
    <nav>
      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="quizzes.html">Quizzes</a></li>
        <li><a href="resources.html">Resources</a></li>
      </ul>
      <!-- Hamburger button -->
      <div class="hamburger">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </nav>
  </header>

  
  <div class="blog-container" >
    <h1>Aplus Tutors Blog</h1>
    <div id="blog-posts" class="blog-posts">
    </div>
    
  </div>
  
      <footer id="main-footer">
    <div class="footer-container">
        
        <div class="footer-column brand-column">
            <img style="width: 70px; margin-bottom: 10px;" src="./logo Aplus tutors.JPG" alt="Aplus Tutors Logo">
            
            <p>Empowering the next generation of learners with personalized, data-driven online education. Your fastest path to exam mastery.</p>
            <div class="social-links">
                <a href="#" class="social-icon" aria-label="Connect on Facebook">F</a>
                <a href="#" class="social-icon" aria-label="Follow on Twitter">T</a>
                <a href="#" class="social-icon" aria-label="Watch on YouTube">Y</a>
                <a href="#" class="social-icon" aria-label="Connect on Instagram">I</a>
            </div>
        </div>
        
        <div class="footer-column">
            <h3>Quick Links</h3>
            <ul>
                <li><a href="about.html">About Us</a></li>
                <li><a href="subject.html">Need a home tutor?</a></li>
                <li><a href="resources.html">Free Resources</a></li>
                <li><a href="#">FAQ</a></li>
            </ul>
        </div>
        
        <div class="footer-column">
            <h3>Exam Prep</h3>
            <ul>
                <li><a href="exam.html">WAEC Prep</a></li>
                <li><a href="exam.html">NECO Mastery</a></li>
                <li><a href="exam.html">JAMB Tutorials</a></li>
            </ul>
        </div>
        
        <div style="align-items: center; text-align: center;" class="footer-column contact-column">
            <h3>Contact</h3>
            <p><i class="icon">E</i> <a href="mailto: olaboredejames2021@gmail.com">support@aplustutor.com</a></p>
            <p><i class="icon">P</i> <a href="tel:+2348012345678">(+234) 915-276-9294</a></p>
            <p><i class="icon">L</i> Ibadan, Nigeria</p>
            
        </div>
    </div>

    <div class="footer-bottom">
        <p>&copy; 2021 Aplus Tutor. All Rights Reserved. | <a href="#">Privacy Policy</a> | <a href="#">Terms of Service</a></p>
    </div>
</footer>


<script src="blogdata.js"></script>
<script src="script.js"></script>
<script src="data.js"></script>

<script>
const blogPostsContainer = document.getElementById('blog-posts');

// Load likes
let likes = JSON.parse(localStorage.getItem('blogLikes')) || {};
function saveLikes() {
  localStorage.setItem('blogLikes', JSON.stringify(likes));
}

// Load comments
let comments = JSON.parse(localStorage.getItem('blogComments')) || {};
function saveComments() {
  localStorage.setItem('blogComments', JSON.stringify(comments));
}

// ---------- LIKE BUTTON ----------
function createLikeButton(postId) {
  const likeBtn = document.createElement('button');
  likeBtn.classList.add('like-btn');

  const count = likes[postId] || 0;
  let liked = localStorage.getItem(`liked_${postId}`) === "true";

  likeBtn.innerHTML = `
    <span class="heart">${liked ? "‚ù§Ô∏è" : "ü§ç"}</span>
    <span class="like-count">${count}</span>
  `;

  likeBtn.addEventListener('click', () => {
    liked = !liked;
    localStorage.setItem(`liked_${postId}`, liked);

    if (liked) likes[postId] = (likes[postId] || 0) + 1;
    else likes[postId] = Math.max(0, (likes[postId] || 0) - 1);

    likeBtn.querySelector(".heart").textContent = liked ? "‚ù§Ô∏è" : "ü§ç";
    likeBtn.querySelector(".like-count").textContent = likes[postId];

    saveLikes();
  });

  return likeBtn;
}



// ---------- COMMENT SECTION ----------
function createCommentSection(postId) {
  const wrapper = document.createElement('div');
  wrapper.classList.add('comment-section');

  wrapper.innerHTML = `
    <h3>Comments</h3>
    <div class="comment-list" id="comments-${postId}"></div>

    <div class="comment-box">
      <textarea id="comment-input-${postId}" placeholder="Write a comment..."></textarea>
      <button onclick="addComment(${postId})">Post Comment</button>
    </div>
  `;

  return wrapper;
}

// Add comment
function addComment(postId) {
  const input = document.getElementById(`comment-input-${postId}`);
  const text = input.value.trim();
  if (text === "") return;

  if (!comments[postId]) comments[postId] = [];

  comments[postId].push({
    text: text,
    time: new Date().toLocaleString()
  });

  saveComments();
  input.value = "";
  loadComments(postId);
}

// Load comments into viewer
function loadComments(postId) {
  const listDiv = document.getElementById(`comments-${postId}`);
  listDiv.innerHTML = "";

  const postComments = comments[postId] || [];
  postComments.forEach(c => {
    const div = document.createElement("div");
    div.classList.add("comment-item");
    div.innerHTML = `<p>${c.text}</p><small>${c.time}</small>`;
    listDiv.appendChild(div);
  });
}



// ---------- BLOG HEADLINES ----------
if (!blogPosts || blogPosts.length === 0) {
  const noPosts = document.createElement('p');
  noPosts.textContent = "No posts available.";
  noPosts.classList.add('no-posts');
  blogPostsContainer.appendChild(noPosts);
} else {
  blogPosts.forEach((post, index) => {
    const postHeadline = document.createElement('div');
    postHeadline.classList.add('blog-headline');
    postHeadline.innerHTML = `
      <h2>${post.title}</h2>
      <p>${post.date} | ${post.category}</p>
    `;

    postHeadline.addEventListener('click', () => openPost(index));

    postHeadline.appendChild(createLikeButton(index));

    blogPostsContainer.appendChild(postHeadline);
  });
}



// ---------- FULL POST VIEWER ----------
const viewer = document.createElement('div');
viewer.classList.add('blog-viewer');
viewer.innerHTML = `
  <div class="viewer-content">
    <span class="close-viewer">&times;</span>
    <img id="viewer-img" src="">
    <h2 id="viewer-title"></h2>
    <p class="meta" id="viewer-meta"></p>
    <p id="viewer-body"></p>
    <div id="viewer-like"></div>
    <div id="viewer-comments"></div>
  </div>
`;
document.body.appendChild(viewer);


// OPEN POST
function openPost(index) {
  const post = blogPosts[index];

  document.getElementById('viewer-img').src = post.image;
  document.getElementById('viewer-title').textContent = post.title;
  document.getElementById('viewer-meta').textContent = `By ${post.author} on ${post.date} | ${post.category}`;
  document.getElementById('viewer-body').textContent = post.content;

  // Load Like Button
  const viewerLikeDiv = document.getElementById('viewer-like');
  viewerLikeDiv.innerHTML = "";
  viewerLikeDiv.appendChild(createLikeButton(index));

  // Load Comment Section
  const viewerCommentDiv = document.getElementById('viewer-comments');
  viewerCommentDiv.innerHTML = "";
  viewerCommentDiv.appendChild(createCommentSection(index));
  loadComments(index);

  viewer.classList.add('active');
  document.body.style.overflow = 'hidden';
}

// CLOSE VIEWER
viewer.querySelector('.close-viewer').addEventListener('click', () => {
  viewer.classList.remove('active');
  document.body.style.overflow = 'auto';
});
</script>
</body>
</html>