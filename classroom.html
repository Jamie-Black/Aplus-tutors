<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aplus Tutors | Classroom</title>
    
    <link rel="stylesheet" href="classroom.css"> 
    
</head>
<body>

    <main>
        <section id="classroom-player-section">
            <div id="video-player-area" class="main-content-area" style="max-width: 1000px;height: fit-content;">
                <p style="text-align: center;">Loading courses...</p>
            </div>
        </section>

        <section id="lesson-list-section">
            <h1 style="text-align: center; margin-bottom: 40px;">Explore Our Video Lessons</h1>
            <div id="classroom-container" style="max-width: 1000px; margin: 0 auto;">
                </div>
        </section>
        
    </main>

    <footer>
        <p>&copy 2021 Aplus Tutors </p>
        </footer>

    <script src="data.js"></script> 
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const container = document.getElementById('classroom-container');
            const playerArea = document.getElementById('video-player-area');
            
            // Safety check for data loading
            if (typeof COURSE_DATA === 'undefined' || COURSE_DATA.length === 0) {
                 playerArea.innerHTML = '<p style="text-align: center;">No course data available. Please check the `js/data.js` file.</p>';
                 return;
            }
            
            // Function to render the list of lessons
            function renderLessonList() {
                container.innerHTML = ''; // Clear existing content
                
                COURSE_DATA.forEach(lesson => {
                    const lessonCard = document.createElement('div');
                    lessonCard.classList.add('lesson-card');
                    lessonCard.setAttribute('data-id', lesson.id);
                    
                    lessonCard.addEventListener('click', () => {
                        loadVideoPlayer(lesson);
                    });

                    lessonCard.innerHTML = `
                        <h3 class="lesson-subject">${lesson.subject}</h3>
                        <h4 class="lesson-topic">${lesson.topic}: ${lesson.subTopic}</h4>
                        <p class="lesson-description">${lesson.description}</p>
                        <div class="lesson-meta">
                            <span class="video-title">Video: ${lesson.videoTitle}</span>
                            <span class="duration">Duration: ${lesson.duration}</span>
                        </div>
                    `;
                    container.appendChild(lessonCard);
                });
            }
            
            // Function to load the video and associated details into the player area
            function loadVideoPlayer(lesson) {
                playerArea.innerHTML = `
                    <div class="video-player">
                        <video 
                            width="100%" 
                            height="450" 
                            controls 
                            autoplay>
                            <source src="${lesson.videoSource}" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>

                    <div class="video-details">
                        <h2>${lesson.subject}: ${lesson.topic}</h2>
                        <h3>${lesson.subTopic}</h3>
                        <p class="video-description">${lesson.description}</p>
                        
                        <a href="${lesson.downloadLink}" download class="download-button">
                            Download Resource (${lesson.videoTitle})
                        </a>
                    </div>
                `;
                
                // Scroll to the player area for better UX
                playerArea.scrollIntoView({ behavior: 'smooth' });
            }
            
            // Initialize: Render the list and load the first video by default
            renderLessonList();
            loadVideoPlayer(COURSE_DATA[0]);

        });
    </script>

</body>
</html>
